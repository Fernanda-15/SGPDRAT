<<<<<<< HEAD
import {Transform} from 'node:stream';
=======
'use strict';
const {Transform} = require('stream');
>>>>>>> main

class ObjectTransform extends Transform {
	constructor() {
		super({
<<<<<<< HEAD
			objectMode: true,
=======
			objectMode: true
>>>>>>> main
		});
	}
}

<<<<<<< HEAD
export class FilterStream extends ObjectTransform {
=======
class FilterStream extends ObjectTransform {
>>>>>>> main
	constructor(filter) {
		super();
		this._filter = filter;
	}

	_transform(data, encoding, callback) {
		if (this._filter(data)) {
			this.push(data);
		}

		callback();
	}
}

<<<<<<< HEAD
export class UniqueStream extends ObjectTransform {
=======
class UniqueStream extends ObjectTransform {
>>>>>>> main
	constructor() {
		super();
		this._pushed = new Set();
	}

	_transform(data, encoding, callback) {
		if (!this._pushed.has(data)) {
			this.push(data);
			this._pushed.add(data);
		}

		callback();
	}
}
<<<<<<< HEAD
=======

module.exports = {
	FilterStream,
	UniqueStream
};
>>>>>>> main
