{"version":3,"file":"ng-gantt.js","sources":["ng-gantt/gantt/gantt.editoroptions.ts","ng-gantt/gantt/gantt.component.ts","ng-gantt/lib.module.ts"],"names":["JSGantt.GanttChart","tslib_1.__decorate"],"mappings":"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","sourcesContent":["\nexport class GanttEditorOptions {\n\n  // public onEditable: (node: GanttEditorTreeNode | {}) => boolean | { field: boolean, value: boolean };\n  // public theme: Number;\n  // public language: String;\n  // public languages: Object;\n\n  constructor() {\n    // this.escapeUnicode = false;\n    // this.sortObjectKeys = false;\n    // this.history = true;\n  }\n}\n","import {\n  Component, ElementRef, Input, OnInit, ViewChild\n} from '@angular/core';\n// import { JSGantt } from 'jsgantt-improved';\nimport * as JSGantt from 'jsgantt-improved';\nimport { GanttEditorOptions } from './gantt.editoroptions';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'ng-gantt',\n  template: '<div [id]=\"id\" #ganttEditorContainer></div>'\n})\nexport class GanttEditorComponent implements OnInit {\n  private editor: any;\n  public id = 'anggantteditor' + Math.floor(Math.random() * 1000000);\n  public optionsChanged = false;\n  public formats = ['Hour', 'Day', 'Week', 'Month', 'Quarter'];\n\n  @ViewChild('ganttEditorContainer', { static: true }) ganttEditorContainer: ElementRef;\n\n  private _data;\n\n  @Input() options: GanttEditorOptions = new GanttEditorOptions();\n  @Input() format = 'week';\n  @Input('data')\n  set data(value: Object) {\n    this._data = value;\n    if (this.editor) {\n      this.destroy();\n      this.ngOnInit();\n    }\n  }\n\n  constructor() {\n\n  }\n\n  ngOnInit() {\n    let optionsBefore = this.options;\n    if (!this.optionsChanged && this.editor) {\n      optionsBefore = this.editor.options;\n    }\n\n    // document.getElementById('embedded-Gantt')\n    const g = this.editor = new (<any>JSGantt).GanttChart(this.ganttEditorContainer.nativeElement, this.format);\n\n    if (g.getDivId() != null) {\n\n      // JSGantt.parseJSON('./fixes/data.json', g);\n\n      g.setOptions({\n        vCaptionType: 'Complete',  // Set to Show Caption : None,Caption,Resource,Duration,Complete,\n        vQuarterColWidth: 36,\n        vDateTaskDisplayFormat: 'day dd month yyyy', // Shown in tool tip box\n        vDayMajorDateDisplayFormat: 'mon yyyy - Week ww', // Set format to display dates in the \"Major\" header of the \"Day\" view\n        vWeekMinorDateDisplayFormat: 'dd mon', // Set format to display dates in the \"Minor\" header of the \"Week\" view\n        vShowTaskInfoLink: 1, // Show link in tool tip (0/1)\n        vShowEndWeekDate: 0,  // Show/Hide the date for the last day of the week in header for\n        vUseSingleCell: 10000,\n        // Even with setUseSingleCell using Hour format on such a large chart can cause issues in some browsers\n        vFormatArr: this.formats.slice(1),\n        ...optionsBefore\n      });\n      if (this._data && this._data.forEach) {\n        this._data.forEach(row => {\n          row.pGantt = g;\n          g.AddTaskItemObject(row);\n        })\n      }\n      g.Draw();\n    }\n  }\n\n  // public get(): JSON {\n  //   return this.editor.get();\n  // }\n\n  public setOptions(newOptions: GanttEditorOptions) {\n    if (this.editor) {\n      this.destroy();\n    }\n    this.optionsChanged = true;\n    this.options = newOptions;\n    this.ngOnInit();\n  }\n\n  public destroy() {\n    // this.editor.destroy();\n  }\n\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { GanttEditorComponent } from './gantt/gantt.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    GanttEditorComponent\n  ],\n  exports: [\n    GanttEditorComponent\n  ]\n})\nexport class NgGanttEditorModule {\n\n  public static forRoot(): ModuleWithProviders {\n\n    return {\n      ngModule: NgGanttEditorModule,\n      providers: [\n      ]\n    };\n  }\n}\n"]}